# week-2-VSD-repo
VSDBabySoC: An Open-Source RISC-V SoC for Learning and Experimentation<div align="center"></div>VSDBabySoC is a compact, open-source System on Chip (SoC) built on the Sky130 technology platform. Centered around the RVMYTH RISC-V processor core, this SoC integrates a Phase-Locked Loop (PLL) for precise clock generation and a 10-bit Digital-to-Analog Converter (DAC) for interfacing with the analog world.The primary mission of this project is to provide a fully transparent, highly documented, and educational platform for students, hobbyists, and professionals. It serves as a practical guide for learning digital-analog interfacing, open-source IP integration, and the complete RTL-to-GDSII flow. By converting digital signals into analog outputs, the VSDBabySoC can communicate with devices like televisions and mobile phones, enabling it to produce audio or video signals.‚ú® FeaturesCPU: RVMYTH 32-bit RISC-V Core (RV32I Base Integer Instruction Set).Clocking: On-chip PLL for stable, high-frequency clock synthesis from a low-frequency reference.Analog Interface: Integrated 10-bit R-2R Ladder DAC for high-resolution analog signal generation.Technology: Designed for the open-source SkyWater 130nm (SKY130) PDK.Open Source: Fully open-source hardware, designed with open-source EDA tools.Educational: Comprehensive documentation intended as a learning resource for SoC design.üéØ Project GoalsIntegrate and Validate Open-Source IPs: Serve as a platform to simultaneously test three distinct open-source IP cores: the RVMYTH CPU, a PLL, and a DAC.Provide an Educational Tool: Offer a clear and comprehensive example of a complete SoC design flow, from high-level architecture to physical layout and analog interfacing.Bridge the Digital and Analog Worlds: Demonstrate a practical application of a DAC within an SoC to control real-world analog devices.Promote Open-Source Hardware: Champion the use of the open-source RISC-V architecture and the Sky130 PDK to encourage community collaboration, innovation, and learning.üèóÔ∏è System ArchitectureThe VSDBabySoC operates through a coordinated sequence of actions between its core components. The architecture is designed for simplicity and clarity, making it easy to understand the data flow from the processor to the analog output.graph TD
    subgraph VSDBabySoC
        A[External Clock Reference] --> B(PLL);
        B --> C{RVMYTH Core};
        C --> D(10-bit DAC);
        D --> E[Analog Output];
    end

    style A fill:#fff,stroke:#333,stroke-width:2px
    style E fill:#fff,stroke:#333,stroke-width:2px
WorkflowInitialization and Clock Generation: Upon receiving an initial input signal (reference clock), the PLL activates. It locks onto this reference and generates a stable, high-frequency clock signal. This clock synchronizes the entire system, ensuring all components operate in perfect harmony.Data Processing: The RVMYTH RISC-V core, acting as the system's brain, executes a program from its memory. This program processes data and prepares it for analog conversion. It sequentially loads 10-bit digital values into a memory-mapped register connected to the DAC, creating a continuous data stream.Analog Signal Generation: The 10-bit DAC continuously receives the digital values from RVMYTH. For each value, it generates a corresponding analog voltage. This analog output can then be used to drive external devices, such as audio amplifiers or video display inputs.üß© Core Components in DetailRVMYTH (RISC-V CPU Core)RVMYTH is the central processing unit of the VSDBabySoC. Based on the open-source RISC-V instruction set architecture (ISA), it is a simple and customizable CPU ideal for educational and embedded applications.Architecture: 32-bit, 3-stage pipeline.ISA: Implements the RV32I base integer instruction set.Role: Its main role is to execute instructions from memory, process data, and manage the data flow to the DAC via memory-mapped I/O.Phase-Locked Loop (PLL)The PLL is a critical component for generating a stable and precise on-chip clock, which is essential for the reliable operation of any digital system.Function: A PLL is a feedback control system that generates an output signal whose phase is locked to the phase of an input reference signal. In this SoC, it multiplies the frequency of an external reference clock to a higher frequency suitable for the CPU core, while also filtering out jitter.Key Blocks:Phase Frequency Detector (PFD): Compares the reference clock with the feedback clock and produces an error signal proportional to the phase difference.Charge Pump & Loop Filter: A low-pass filter that converts the PFD's error pulses into a stable analog control voltage.Voltage-Controlled Oscillator (VCO): Generates the final clock output, whose frequency is directly controlled by the smoothed voltage from the loop filter.Frequency Divider: Divides the VCO's output frequency to create a feedback clock for the PFD, enabling frequency multiplication.Why is a PLL Necessary? Off-chip clocks introduce problems like jitter (timing variations) and distribution delays. An on-chip PLL provides a clean, stable clock and can synthesize various required frequencies from a single, low-cost external crystal.10-bit Digital-to-Analog Converter (DAC)The DAC is the bridge between the digital processing world of the SoC and the analog world of external devices.Function: It converts a digital input (a 10-bit binary number) into a corresponding analog output voltage.Resolution: A 10-bit DAC can represent  distinct analog voltage levels, providing a high-resolution output suitable for audio and basic video signals.Architecture: This project implements an R-2R Ladder DAC. This design uses a repeating network of only two resistor values (R and 2R), which is much easier to manufacture accurately and is more scalable than other architectures like the binary-weighted resistor DAC.üõ†Ô∏è SoC Design and Verification FlowThe creation of an SoC follows a structured design process, which for this project was accomplished using open-source tools.Front-End Design (Logical Design):Architecture Design: Defining the system's specifications and block-level diagrams.RTL Design: Writing the hardware description for all components in Verilog.Functional Simulation & Verification: Using a testbench with a C-based test program to verify the processor's ability to write data to the DAC. Simulations were run using Icarus Verilog, and waveforms were analyzed with GTKWave.Physical Design / Back-End (RTL-to-GDSII):RTL Synthesis: Translating the Verilog RTL code into a gate-level netlist using Yosys.Floorplanning & Power Planning: Defining the chip's core area, I/O pad placement, and power grid structure.Placement & Routing (P&R): Arranging the standard cells (logic gates) and wiring them together using tools within the OpenLane flow.Clock Tree Synthesis (CTS): Building a balanced clock distribution network to minimize skew.Physical Verification: Running final checks (DRC, LVS, Antenna) to ensure the layout is manufacturable and correct before tape-out.üñºÔ∏è Physical LayoutThe final output of the design flow is a GDSII file, which contains the physical layout of the SoC.Core Area: XXX um x XXX umTotal Area: XXX um x XXX umTechnology Node: SkyWater 130nmStandard Cell Count: ~XXXX!(https://www.google.com/search?q=https://placehold.co/800x600/1e293b/ffffff%3Ftext%3DFinal%2BGDSII%2BLayout%26font%3Dinter)üöÄ Getting StartedTo explore, simulate, or build upon this project, you will need the following prerequisites.PrerequisitesAn open-source EDA toolchain for RISC-V SoC design.Icarus Verilog for simulation.GTKWave for waveform viewing.OpenLane for the physical design flow.Google/SkyWater 130nm PDK (sky130).Clone the Repositorygit clone [https://github.com/your-username/vsdbabysoc.git](https://github.com/your-username/vsdbabysoc.git)
cd vsdbabysoc
Running the Simulation# Navigate to the simulation directory
cd verification/

# Compile and run the testbench
iverilog -o testbench.vvp top_tb.v
vvp testbench.vvp
Synthesizing the DesignPlease refer to the OpenLane documentation and the configuration files included in the openlane/ directory of this project.# Example command using OpenLane
./flow.tcl -design vsdbabysoc
ü§ù How to ContributeContributions are welcome! Whether you are fixing a bug, improving documentation, or adding a new feature, your help is appreciated. Please feel free to fork the repository, make your changes, and submit a pull request.Fork the ProjectCreate your Feature Branch (git checkout -b feature/AmazingFeature)Commit your Changes (git commit -m 'Add some AmazingFeature')Push to the Branch (git push origin feature/AmazingFeature)Open a Pull Requestüìú LicenseThis project is licensed under the Apache 2.0 License. See the LICENSE file for more details.üôè AcknowledgmentsThe RVMYTH Core team for providing an excellent open-source processor.Google and SkyWater Technology for the open-source SKY130 PDK.The developers of the OpenLane automated RTL-to-GDSII flow.The entire open-source hardware community for their invaluable tools and support.
